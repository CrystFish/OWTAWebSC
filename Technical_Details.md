## 技术细节 (Technical Details)
（译者不是很了解 Java 与 TypeScript 的一些细节，译文仅供参考）

原始程序使用 Java 编写，而原程序的源代码与资产文件都包含在压缩包内。也就是说，用其他编程语言重写游戏并移植到其他平台是可行的

对于网页移植版而言，Java 源代码文件的后缀被改为 .ts（TypeScript）之后再一行行修改以符合新语言的语法。最大的问题在于：
- 隐式的类字段访问（例如，Java 中是 `_myVar` 而 JavaScript 中是 `this._myVar`），需要手动检查每个变量引用，并在必要时添加 `this.`。虽然很耗时，但由于源代码中没有模棱两可的用法，因此相对容易处理
- 方法重载，特别是构造函数重载，因为 JavaScript 的函数只能有一个实现。这些方法在使用 TypeScript 的类型联合和可选参数特性下被重写为等效的单一实现
- C 语言风格的类型声明（例如 `String foo` 而非 TypeScript 的 `foo: string`），这个问题可以使用强力的正则表达式的查找与替换来解决

原始的 Java 版本使用了 [Processing](https://processing.org/) 引擎，这是一个轻量的“游戏引擎”，用于制作图形原型与互动式视觉演示。Processing 基金会也制作了该引擎的 JavaScript 版本，即 [p5.js](https://p5js.org/)，很明显这不是用同一种编程语言编写的，但其 API 与 Java 版引擎相当类似。而这意味着，一旦代码修改完毕，大多数功能都能开箱即用、正常工作，无需编写额外的实现代码

p5.js 中的一些方法和辅助类并不完美，这些部分被重新编写并放入了 `compat.ts` 中